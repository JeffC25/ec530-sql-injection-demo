<!DOCTYPE html>
<html>
<head>
    <title>SQLite Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        function getUser() {
            // Don't question why the username is grabbed this way...
            let username = document.getElementById("username").innerHTML;
            fetch("/api/user", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({ username: username })
            })
            .then(response => response.json())
            .then(data => {
                let results = document.getElementById("results");
                results.innerHTML = "";
                data.forEach(user => {
                    results.innerHTML += `
                        <div class="p-1">
                            <div class="text-orange-500 text-sm">ID</div>
                            <div class="text-neutral-800 ">${user.id}</div>
                        </div>
                        <div class="h-px bg-neutral-300 w-full"></div>

                        <div class="p-1">
                            <div class="text-orange-500 text-sm">UserName</div>
                            <div class="text-neutral-800 ">${user.username}</div>
                        </div>
                        <div class="h-px bg-neutral-300 w-full"></div>

                        <div class="p-1">
                            <div class="text-orange-500 text-sm">Name</div>
                            <div class="text-neutral-800 ">${user.name}</div>
                        </div>
                        <div class="h-px bg-neutral-300 w-full"></div>

                        <div class="p-1">
                            <div class="text-orange-500 text-sm">Date of Birth</div>
                            <div class="text-neutral-800 ">${user.birthday}</div>
                        </div>
                        <div class="h-px bg-neutral-300 w-full"></div>

                        <div class="p-1">
                            <div class="text-orange-500 text-sm">Secret</div>
                            <div class="text-neutral-800 ">${user.secret}</div>
                        </div>
                        <div class="h-px bg-neutral-300 w-full"></div>

                        <div class="p-1">
                            <div class="text-orange-500 text-sm">Occupation</div>
                            <div class="text-neutral-800 ">${user.occupation}</div>
                        </div>
                        <div class="h-px bg-neutral-300 w-full"></div>

                        <div class="p-1">
                            <div class="text-orange-500 text-sm">Email</div>
                            <div class="text-neutral-800 ">${user.email}</div>
                        </div>
                        <div class="h-px bg-neutral-300 w-full"></div>

                        <div class="p-1">
                            <div class="text-orange-500 text-sm">Address</div>
                            <div class="text-neutral-800 ">${user.address}</div>
                        </div>
                        <div class="h-px bg-neutral-300 w-full"></div>

                        <div class="p-1">
                            <div class="text-orange-500 text-sm">Favorite Color</div>
                            <div class="text-neutral-800 ">${user.favorite_color}</div>
                        </div>
                        <div class="h-px b-pxeutral-300 w-full"></div>

                        <!-- <div class="p-1">
                            <div class="text-orange-500 text-sm">Hours of Sleep per Night</div>
                            <div class="text-neutral-800 ">${user.sleep_hours_per_night}</div>
                        </div>
                        <div class="h-px bg-neutral-300 w-full"></div>

                        <div class="p-1">
                            <div class="text-orange-500 text-sm">Hours of Exercise per Week</div>
                            <div class="text-neutral-800 ">${user.exercise_hours_per_week}</div>
                        </div>
                        <div class="h-px bg-neutral-300 w-full"></div>

                        <div class="p-1">
                            <div class="text-orange-500 text-sm">Total Savings (USD)</div>
                            <div class="text-neutral-800 ">${user.savings_amount}</div>
                        </div> -->
                        <div class="h-px bg-neutral-300 w-full"></div>

                        <div class="p-1">
                            <div class="text-orange-500 text-sm">Tacos Eaten in Lifetime</div>
                            <div class="text-neutral-800 ">${user.total_tacos_eaten}</div>
                        </div>
                    `;
                });
            });
        }
    </script>
</head>
<body class="bg-neutral-100 flex justify-center h-screen">
    <div class="bg-white xl:w-1/3 lg:w-1/2 w-3/4 rounded-lg m-12 shadow-md">
        <div class="bg-gradient-to-r from-orange-500 to-amber-500 p-4 text-white rounded-t-lg">
            <h1 class="text-3xl font-semibold">Super Secret Bankâ„¢</h1>
            <h2 class="font-semibold">The super duper secure place to keep your secrets</h2>
        </div>
        <div class="px-4">
            <h3 class="text-center block mx-auto p-4 text-neutral-800">Logged in as: 
                <span id="username" class="font-semibold text-orange-500">user123</span>
            </h3>
            <button onclick="getUser()" class="rounded-md shadow-md p-2 text-center w-fit mx-auto block font-semibold bg-amber-500 hover:bg-orange-500 text-white">Fetch Secret Info</button>
        </div>
        <div id="results" class="m-4">
    </div>
</body>
</html>